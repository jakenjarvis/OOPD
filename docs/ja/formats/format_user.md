# OOPD形式: ユーザーフォーマット (User Format) 仕様

## ユーザーフォーマットとは

ユーザーフォーマットは、ユーザーがOOPDに基づいてプロンプトを**日常的に記述・編集**するために設計された、柔軟で記述しやすい形式です。主に個人の作業やセッション内での利用を想定しています。

## このドキュメントについて

このドキュメント (`format_user.md`) は、ユーザーフォーマットに特有のルールや特徴、推奨される使い方について説明します。共通のルールについては `format_common.md` を参照してください。

## 主な特徴とルール

- **記述言語:** ユーザー自身の**母国語**（または作業言語）で記述することを基本とします。
- **英語名併記:** クラス名やインターフェース名などに英語ハブ名を併記する必要は**ありません**。AIが内部的に管理します。
  - 例 (日本語の場合): `#### 顧客クラス` (OK)
  - 例 (フランス語の場合を想定): `#### Classe Client` (OK)
- **命名規則:**
  - **緩やか:** 厳密な命名規則に従う必要は必ずしもありません。AIが文脈から解釈できれば、比較的自由な名称を使用できます。
  - ただし、対象言語の翻訳ルール (`translation_rules/` 内) で定義されている**標準的な命名規則**に従う方が、AIの解釈精度が向上し、`定義フォーマット` への移行がスムーズになります。
  - **AIによる確認:** 指示された名称が標準命名規則から逸脱している場合、AIが標準名を提案し、確認を求めることがあります（この確認は設定でオフにできます）。
- **モジュールとセクション:**
  - モジュール (`##`) やセクション (`###` 以下) の記述は**必須ではありません**。ユーザーが必要に応じて定義を整理するために使用できます。
  - AIは、モジュールやセクションが明示されていない場合でも、文脈やデフォルト設定に基づいて内部的に定義を管理します。
- **クロス参照:**
  - **同一モジュール内:** 参照したいクラス名などをそのまま記述します。
  - **異なるモジュール:** 参照したいクラス等が別のモジュールに属する場合、**必ず完全修飾名 (`モジュール名.クラス名`)** で指定する必要があります。AIが曖昧さを検知した場合、確認を求めることがあります。
- **AIとの対話:**
  - **名称指示なし:** ユーザーが名称を指定しなかった場合、AIは文脈から標準名を自動生成します（ユーザー確認不要）。
  - **規則非準拠時の確認:** ユーザーが指定した名称が標準命名規則に準拠していない場合、AIは標準名を提案し、ユーザーに変更するか、そのまま使うか、別の名前を指示するかを確認します。

## ユーザーフォーマットの利用シナリオ

- 個人でのプロンプト作成、アイデアの整理、下書き作成。
- セッション内でのAIとの対話を通じた定義の**明確化や洗練**。
- 一時的なプロンプト指示。

ユーザーフォーマットで作成された定義は、必要に応じてAIに指示することで、`定義フォーマット` に変換・出力することが可能です。
