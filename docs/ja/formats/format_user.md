### OOPD形式: ユーザーフォーマット (User Format) 仕様

#### ユーザーフォーマットとは

ユーザーフォーマットは、ユーザーがOOPDに基づいてプロンプトを**日常的に記述・編集**するために設計された、柔軟で記述しやすい形式です。主に個人の作業やセッション内での利用を想定しています。

#### このドキュメントについて

このドキュメント (`format_user.md`) は、ユーザーフォーマットに特有のルールや特徴、推奨される使い方について説明します。共通のルールについては `format_common.md` を参照してください。

#### 主な特徴とルール

- **記述言語:** ユーザー自身の**母国語**（または作業言語）で記述することを基本とします。
- **英語ハブ名の省略:**
  - クラス名、インターフェース名、プロパティ名、メソッド名など、`定義フォーマット`で `{英語ハブ名}::` や `({英語ハブ名})` が付与される部分について、ユーザーフォーマットではこれらを**記述する必要はありません**。母国語名のみで記述します。AIが内部的に英語ハブ名を推論・管理します。
  - 例 (クラス見出し): `#### 顧客クラス: 顧客情報を管理するクラス` (OK)
  - 例 (プロパティ): `- 名称: String`: 顧客の名前` (OK)
- **見出し:**
  - モジュール (`##`) やセクション (`###`) の記述は**必須ではありません**。ユーザーが必要に応じて定義を整理するために使用できます。
  - クラス (`####`) やインターフェース (`####`) の見出しでは、母国語名と説明文を記述します。
  - AIは、モジュールやセクションが明示されていない場合でも、文脈やデフォルト設定に基づいて内部的に定義を管理します。
- **リスト形式要素 (プロパティ、メソッド、イベント、列挙型、構造体):**
  - 行頭にハイフン `-` を付けます。
  - **バッククォート ``` ` ``` の使用:** `定義フォーマット`から変換された場合、バッククォートは保持されます。ユーザーが手書きする際にバッククォートを付けるかどうかは任意ですが、付けることでAIの解釈精度が向上する可能性があります。AIが応答としてユーザーフォーマットを生成する場合、バッククォートは付与しません（より記述しやすいため）。
  - プロパティ、メソッド等の定義内容は、母国語名、型、引数（母国語名のみ）、戻り値（型名のみ）などで記述します。
- **命名規則:**
  - **緩やか:** AIが文脈から解釈できる限り、特定の形式に厳密に従う必要はありません。標準から逸脱した命名でも、AIが認識できれば問題ありません。
  - ただし、対象言語の翻訳ルール (`translation_rules/` 内) で定義されている**標準的な命名規則**に従う方が、AIの解釈精度が向上し、`定義フォーマット` への移行がスムーズになります。
  - **AIによる確認:** 指示された名称が標準命名規則から逸脱している場合、AIが標準名を提案し、確認を求めることがあります（この確認は設定でオフにできます）。
- **クロス参照:**
  - 参照したいクラス名などをそのまま母国語名で記述します。AIが文脈から判断しますが、曖昧さが生じる場合は確認を求めることがあります。異なるモジュールの要素を参照する場合は、`定義フォーマット` と同様に `モジュール名.クラス名` 形式での指定が推奨されます。
- **AIとの対話:**
  - **名称指示なし:** ユーザーが名称を指定しなかった場合、AIは文脈から標準名を自動生成します（ユーザー確認不要）。
  - **規則非準拠時の確認:** ユーザーが指定した名称が標準命名規則に準拠していない場合、AIが標準名を提案し、確認を求めることがあります。（この確認動作はユーザーの指示や設定に応じて変更可能です。例えば、確認なしで常に標準名を適用する、または確認なしでユーザーの命名を常に受け入れる、といった挙動も可能です）。

#### ユーザーフォーマットの利用シナリオ

- 個人でのプロンプト作成、アイデアの整理、下書き作成。
- セッション内でのAIとの対話を通じた定義の**明確化や洗練**。
- 一時的なプロンプト指示。

ユーザーフォーマットで作成された定義は、必要に応じてAIに指示することで、`定義フォーマット` に変換・出力することが可能です。
